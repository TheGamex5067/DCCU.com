/** @import must precede all other statements */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Tailwind CSS theme
   * tailwind.config.ts expects the following color variables to be expressed as HSL values.
   * A different format will require also updating the theme in tailwind.config.ts.
  */
  :root {
    /* Batcomputer dark neon theme (HSL values) */
    --background: 210 30% 6%;
    --foreground: 210 40% 96%;

    --card: 210 30% 8%;
    --card-foreground: 210 40% 96%;

    --popover: 210 30% 8%;
    --popover-foreground: 210 40% 96%;

    --primary: 190 95% 45%; /* cyan */
    --primary-foreground: 210 40% 96%;

    --secondary: 215 28% 20%;
    --secondary-foreground: 210 40% 96%;

    --muted: 215 24% 14%;
    --muted-foreground: 210 20% 72%;

    --accent: 48 100% 50%; /* amber accent */
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 210 40% 96%;

    --border: 190 60% 26%;
    --input: 190 60% 26%;
    --ring: 190 95% 45%;

    --radius: 0.5rem;

    --sidebar-background: 210 30% 8%;
    --sidebar-foreground: 210 40% 90%;
    --sidebar-primary: 190 95% 45%;
    --sidebar-primary-foreground: 210 40% 96%;
    --sidebar-accent: 215 24% 14%;
    --sidebar-accent-foreground: 210 40% 96%;
    --sidebar-border: 190 60% 26%;
    --sidebar-ring: 190 95% 45%;
  }

  .dark {
    /* Keep dark mirror values for compatibility */
    --background: 210 30% 6%;
    --foreground: 210 40% 96%;

    --card: 210 30% 8%;
    --card-foreground: 210 40% 96%;

    --popover: 210 30% 8%;
    --popover-foreground: 210 40% 96%;

    --primary: 190 95% 45%;
    --primary-foreground: 210 40% 96%;

    --secondary: 215 28% 20%;
    --secondary-foreground: 210 40% 96%;

    --muted: 215 24% 14%;
    --muted-foreground: 210 20% 72%;

    --accent: 48 100% 50%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 210 40% 96%;

    --border: 190 60% 26%;
    --input: 190 60% 26%;
    --ring: 190 95% 45%;

    --sidebar-background: 210 30% 8%;
    --sidebar-foreground: 210 40% 90%;
    --sidebar-primary: 190 95% 45%;
    --sidebar-primary-foreground: 210 40% 96%;
    --sidebar-accent: 215 24% 14%;
    --sidebar-accent-foreground: 210 40% 96%;
    --sidebar-border: 190 60% 26%;
    --sidebar-ring: 190 95% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Batcomputer visual utilities */
.bg-bat-gradient {
  background: radial-gradient(1200px 600px at 80% -10%, rgba(34,211,238,0.20), transparent 50%),
              radial-gradient(800px 400px at -20% 110%, rgba(245,158,11,0.12), transparent 50%),
              linear-gradient(180deg, hsl(var(--background)) 0%, hsl(210 30% 4%) 100%);
}

.bg-bat-grid {
  background-image:
    linear-gradient(rgba(34,211,238,0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(34,211,238,0.08) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
}

/* Animated scanline */
.scanline { position:absolute; pointer-events:none; background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(34,211,238,0.08) 50%, rgba(0,0,0,0) 100%); filter: blur(0.3px); animation: scan 6s linear infinite; }
@keyframes scan { 0% { transform: translateY(-100%);} 100% { transform: translateY(100%);} }

/* Neon gradient border */
.hud-card { position: relative; }
.hud-card::before { content: ""; position: absolute; inset: -1px; border-radius: inherit; padding: 1px; background: linear-gradient(135deg, rgba(34,211,238,0.7), rgba(245,158,11,0.5)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none; }

/* Pulsing glow */
.glow-pulse { box-shadow: 0 0 0 0 rgba(34,211,238,0.6); animation: glow 2.4s ease-out infinite; }
@keyframes glow { 0% { box-shadow: 0 0 0 0 rgba(34,211,238,0.55);} 70% { box-shadow: 0 0 0 18px rgba(34,211,238,0);} 100% { box-shadow: 0 0 0 0 rgba(34,211,238,0);} }

/* Parallax sparkle */
.parallax-stars { position:absolute; inset:0; background-image: radial-gradient(2px 2px at 20% 30%, rgba(34,211,238,0.25), transparent 60%), radial-gradient(1.5px 1.5px at 70% 60%, rgba(245,158,11,0.25), transparent 60%); background-repeat:no-repeat; animation: drift 18s linear infinite; }
@keyframes drift { 0%{ transform: translateY(0);} 100%{ transform: translateY(-40px);} }

/* HUD concentric rings */
.hud-rings{position:absolute;width:70vmin;height:70vmin;border-radius:9999px;pointer-events:none}
.hud-rings:before,.hud-rings:after{content:"";position:absolute;inset:0;border-radius:inherit;border:1px solid rgba(34,211,238,0.25);box-shadow:0 0 40px rgba(34,211,238,0.15) inset}
.hud-rings:after{inset:8%;border-color:rgba(34,211,238,0.4);animation:spin 16s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Button scanning sheen */
.btn-scan{position:relative;overflow:hidden}
.btn-scan:after{content:"";position:absolute;inset:-200% -50%;background:linear-gradient(120deg,transparent,rgba(255,255,255,0.15),transparent);transform:rotate(20deg);animation:scanSheen 2.2s linear infinite}
@keyframes scanSheen{0%{transform:translateX(-60%) rotate(20deg)}100%{transform:translateX(60%) rotate(20deg)}}

/* Badge */
.badge{border:1px solid rgba(34,211,238,0.35);color:rgba(186,230,253,0.9);padding:2px 6px;border-radius:4px}

/* Shake */
@keyframes kshake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
.animate-shake{animation:kshake .5s linear}

/* Screenplay reading styles */
.screenplay {
  font-family: "Courier Prime", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 18px;
  line-height: 1.6;
  letter-spacing: 0.01em;
}

@media print {
  body { background: white; color: black; }
  .screenplay { color: black; }
}

/* Access Granted overlay */
.access-flash{background:radial-gradient(circle at center, rgba(34,211,238,0.55) 0%, rgba(34,211,238,0.2) 30%, transparent 60%); animation: flashFade 1s ease-out forwards}
.access-text{animation: textPop 1s ease-out forwards; text-shadow:0 0 10px rgba(34,211,238,0.8), 0 0 30px rgba(34,211,238,0.4)}
@keyframes flashFade{0%{opacity:1; transform:scale(0.8)}60%{opacity:.8; transform:scale(1.1)}100%{opacity:0; transform:scale(1.4)}}
@keyframes textPop{0%{opacity:0; transform:scale(.9)}40%{opacity:1; transform:scale(1.02)}100%{opacity:0}}

/* Login card fade out */
.card-out{animation: cardFade .5s ease-out forwards; filter: blur(0px)}
@keyframes cardFade{to{opacity:0; transform: translateY(-6px) scale(.98); filter: blur(2px)}}

/* HUD mount animation (plays once when .enter-once is on root container) */
.enter-once .hud-enter{opacity:0; transform: translate3d(var(--x,0), var(--y,10px), 0) scale(.98); will-change: transform, opacity; backface-visibility: hidden; animation: hudIn .6s cubic-bezier(0.2,0.8,0.2,1) both; animation-delay: var(--d, 0ms)}
.enter-left{--x:-28px; --y:0px}
.enter-right{--x:28px; --y:0px}
.enter-bottom{--x:0px; --y:16px}
@keyframes hudIn{to{opacity:1; transform: none}}
@media (prefers-reduced-motion: reduce){.enter-once .hud-enter{animation:none; opacity:1; transform:none}}

/* Logout overlay */
.exit-flash{background:radial-gradient(circle at center, rgba(248,113,113,0.5) 0%, rgba(248,113,113,0.18) 30%, transparent 60%); animation: flashFade .7s ease-out forwards}
.exit-text{animation: textPop .8s ease-out forwards; color: rgba(252,165,165,1); text-shadow:0 0 10px rgba(248,113,113,0.8), 0 0 30px rgba(248,113,113,0.4)}
